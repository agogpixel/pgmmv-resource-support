/**
 * Exports helper method for retrieving a module.
 *
 * @module pgmmv-resource-support/module/get-module.function
 */
import { hasModule } from './has-module.function';
import { rootModuleName } from './root-module-name.const';

////////////////////////////////////////////////////////////////////////////////
// Public Static Properties
////////////////////////////////////////////////////////////////////////////////

// None.

////////////////////////////////////////////////////////////////////////////////
// Private Static Properties
////////////////////////////////////////////////////////////////////////////////

// None.

////////////////////////////////////////////////////////////////////////////////
// Public Static Methods
////////////////////////////////////////////////////////////////////////////////

/**
 * Get module referenced by specified key.
 *
 * @param key Module key.
 * @returns Module referenced by key, `undefined` otherwise.
 * @public
 * @static
 */
export function getModule<T extends object = object>(key: string) {
  if (!hasModule(key)) {
    return;
  }

  return (window[rootModuleName] as Record<string, T>)[key];
}

////////////////////////////////////////////////////////////////////////////////
// Private Static Methods
////////////////////////////////////////////////////////////////////////////////

// None.
